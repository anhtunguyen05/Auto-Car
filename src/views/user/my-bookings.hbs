<div class="container my-4">
    <h1 class="mb-4">My Bookings</h1>
    
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Car</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Total Price</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{#each bookings}}
                <tr>
                    <td>
                        <strong>{{this.carId.brand}} {{this.carId.model}}</strong><br>
                        <small class="text-muted">{{this.carId.licensePlate}}</small>
                    </td>
                    <td>{{formatDate this.startDate}}</td>
                    <td>{{formatDate this.endDate}}</td>
                    <td><strong>${{this.totalPrice}}</strong></td>
                    <td>
                        <span class="badge bg-{{statusColor this.status}}">{{this.status}}</span>
                    </td>
                    <td>
                        <a href="/user/booking-detail/{{this._id}}" class="btn btn-sm btn-info">
                            <i class="bi bi-eye"></i> View
                        </a>
                        {{#if (eq this.status 'PENDING')}}
                        <form method="POST" action="/user/cancel-booking/{{this._id}}" style="display: inline;" onsubmit="return confirm('Are you sure you want to cancel this booking?');">
                            <button type="submit" class="btn btn-sm btn-danger">
                                <i class="bi bi-x-circle"></i> Cancel
                            </button>
                        </form>
                        {{/if}}
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="6" class="text-center py-4">
                        <i class="bi bi-inbox fs-1 text-muted"></i>
                        <p class="text-muted mt-2">You don't have any bookings yet.</p>
                        <a href="/user/browse-cars" class="btn btn-primary">
                            <i class="bi bi-search"></i> Browse Cars
                        </a>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</div>
